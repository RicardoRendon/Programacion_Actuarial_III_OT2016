if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,collapse = NULL)
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","sulfate",4) #432
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
ni <- 0
for (i in id){
ni=ni+1
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,collapse = NULL)
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrate",4) #432
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
ni <- 0
for (i in id){
ni=ni+1
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,collapse = NULL)
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrate",3) #432
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
ni <- 0
for (i in id){
ni=ni+1
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,collapse = NULL)
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrate",2) #432
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
ni <- 0
for (i in id){
ni=ni+1
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,collapse = NULL)
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrate",2:4) #432
mediacontaminante("specdata","nitrato",70:72)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id[i],".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
resultado
}
}
mediacontaminante("specdata","nitrato",70:72)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else {
if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",i,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
resultado
}
}
mediacontaminante("specdata","nitrato",70:72)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",i,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
resultado
}
}
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrato",70:72)
mediacontaminante <- function(directorio,contaminante,id=1:332){
s <-numeric()
for(i in id){
r <- read.csv(paste(formatC(i, width=3,flag= "0"),".csv",sep=""),header=TRUE)
if(contaminante == "sulfate"){
s <- c(s,r$sulfate)
} else if (contaminante == "nitrate"){
s<- c(s,r$nitrate)
}
}
promedio <- mean(s, na.rm=TRUE)
promedio
}
mediacontaminante("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016/specdata","nitrato",70:72)
mediacontaminante("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016/specdata","nitrato",70)
mediacontaminante  <- function(directorio, contaminante, id = 1:332) {
data = lapply(id, function(i) read.csv(paste(directorio, "/", formatC(i,width = 3, flag = "0"), ".csv", sep = ""))[[contaminante]])
return(mean(unlist(data), na.rm = TRUE))
}
mediacontaminante("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016/specdata","nitrato",70)
mediacontaminante  <- function(directorio, contaminante, id = 1:332) {
ubicacion <-setwd("~/GitHub/Programacion_Actuarial_III_OT2016")
data <- vector("numeric")
data = sapply(id, function(i) read.csv(paste(ubicacion, "/",directorio,"/", formatC(i,width = 3, flag = "0"), ".csv", sep = ""))[[contaminante]])
if(contaminante=="sulfate"){
return(mean(unlist(data), na.rm = TRUE))
} else if (contaminante=="nitrate"){
return(mean(unlist(data), na.rm = TRUE))
} else {
paste("El contaminante buscado",contaminante,"no se encuentra en la lista")
}
}
mediacontaminante("~/GitHub/Programacion_Actuarial_III_OT2016/specdata", "nitrate", 2:4) # Para correr cambiar directorio e id
completos <- function(directorio, id=1:332){
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
completos <- function(directorio, id=1:332){
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
completos <- function(directorio, id=1:332){
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
mediacontaminante  <- function(directorio, contaminante, id = 1:332) {
data = lapply(id, function(i) read.csv(paste(directorio, "/", formatC(i,width = 3, flag = "0"), ".csv", sep = ""))[[contaminante]])
return(mean(unlist(data), na.rm = TRUE))
mediacontaminante  <- function(directorio, contaminante, id = 1:332) {
data = lapply(id, function(i) read.csv(paste(directorio, "/", formatC(i,width = 3, flag = "0"), ".csv", sep = ""))[[contaminante]])
return(mean(unlist(data), na.rm = TRUE))
}
mediacontaminante("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016/specdata","nitrato",70)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrato",70)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
columna <- vector(mode = "numeric")
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
suma <- s/c
resultado=suma+resultado
}
resultado
}
mediacontaminante("specdata","nitrato",70)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
columna <- vector(mode = "numeric")
if (contaminante=="nitrate"){
columna <- 3
} else if (contaminante=="sulfate") {
columna <- 2
}
for (i in id){
if (id<10){
id=paste("00",id,sep = "")
} else if (id<100){
id=paste("0",id,sep = "")
} else {
id=paste(id,sep = "")
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
data <- read.csv(paste(Archivo,"/",directorio,"/",id,".csv",sep = ""),header = TRUE)
c <- sum(complete.cases(data[,columna]))
s <- sum(data[,columna], na.rm = TRUE)
}
suma <- s/c
resultado=suma+resultado
resultado
}
mediacontaminante("specdata","nitrato",70)
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
completos <- function(directorio, id=1:332){
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2))
Registro[a,] = c(i,Nobs)
}
Registro
}
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
Archivo <- c("C:/Users/Pablo Rendon/Documents/GitHub/Programacion_Actuarial_III_OT2016")
Nobs<-vector("numeric",1)
Registro = data.frame("id" = 0, "nobs" = 0)
a=0
for (i in id){
Nobs <- c(0)
a=a+1
if (i <10){
Ubicación<-paste(Archivo,"/",directorio,"/","00",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else if (i<100){
Ubicación<-paste(Archivo,"/",directorio,"/0",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
} else{
Ubicación<-paste(Archivo,"/",directorio,"/",i,".csv",sep="")
Archivo2<-read.csv(Ubicación)
}
Nobs = sum(complete.cases(Archivo2[contaminante]))
Registro[a,] = c(i,Nobs)
}
Registro
}
mediacontaminante("specdata","nitrato",70)
